<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‡æ•°å‡½æ•°å†’é™©å²› - å®Œæ•´ç‰ˆ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            margin: 0;
            padding: 20px;
            color: #333;
            min-height: 100vh;
        }
        .game-container {
            max-width: 1200px;
            margin: 20px auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        .game-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #e74c3c, #f1c40f);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            background: linear-gradient(45deg, #2980b9, #2c3e50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding: 10px 0;
            border-bottom: 3px solid #3498db;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            flex-wrap: wrap;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 5px;
        }
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            background-color: #e9ecef;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin-right: 8px;
            margin-bottom: 5px;
            transition: all 0.3s;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tab:hover {
            background-color: #dee2e6;
            transform: translateY(-3px);
        }
        .tab.active {
            background-color: white;
            border-bottom: 3px solid #3498db;
            color: #2980b9;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .tab-content {
            display: none;
            padding: 20px 0;
            animation: fadeIn 0.5s ease;
        }
        .tab-content.active {
            display: block;
        }
        .island {
            margin-bottom: 35px;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 25px;
            background: linear-gradient(to bottom right, #eaf7ff, #ffffff);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
        }
        .island::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
        }
        .island h2 {
            color: #2980b9;
            margin-top: 0;
            padding-bottom: 12px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px dashed #bdc3c7;
        }
        .graph-container {
            width: 100%;
            height: 320px;
            background-color: white;
            border: 1px solid #ddd;
            margin: 25px 0;
            position: relative;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
            border-radius: 8px;
            overflow: hidden;
        }
        canvas {
            width: 100%;
            height: 100%;
        }
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        .control-group {
            margin: 10px;
            min-width: 180px;
            flex: 1;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #34495e;
            font-size: 1.05rem;
        }
        input, select {
            padding: 12px 15px;
            border: 2px solid #ced4da;
            border-radius: 8px;
            width: 100%;
            box-sizing: border-box;
            font-size: 16px;
            transition: all 0.3s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }
        button {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            margin: 8px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        button:active {
            transform: translateY(1px);
        }
        .explanation {
            background: linear-gradient(to right, #f9f9f9, #ffffff);
            padding: 25px;
            border-radius: 10px;
            margin-top: 25px;
            border-left: 5px solid #3498db;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
        .explanation h3 {
            margin-top: 0;
            color: #2980b9;
            font-size: 1.4rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .task {
            background: linear-gradient(to right, #e8f8f5, #ffffff);
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            border-left: 5px solid #2ecc71;
            box-shadow: 0 4px 10px rgba(0,0,0,0.06);
        }
        .task h3 {
            margin-top: 0;
            color: #27ae60;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-size: 16px;
            animation: fadeIn 0.3s ease;
        }
        .correct {
            background-color: #d5f5e3;
            border-left: 4px solid #2ecc71;
        }
        .incorrect {
            background-color: #fadbd8;
            border-left: 4px solid #e74c3c;
        }
        .progress-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin: 30px 0;
            height: 30px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #2ecc71, #27ae60);
            border-radius: 10px;
            width: 0%;
            transition: width 0.8s ease;
            text-align: center;
            color: white;
            font-weight: bold;
            line-height: 30px;
            font-size: 16px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        .knowledge-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
        }
        .knowledge-card {
            flex: 1 1 320px;
            margin: 10px;
            padding: 25px;
            background: linear-gradient(to bottom right, #f9f9f9, #ffffff);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
        }
        .knowledge-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, #3498db, #2ecc71);
        }
        .knowledge-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .knowledge-card h3 {
            color: #2980b9;
            margin-top: 0;
            padding-bottom: 12px;
            font-size: 1.5rem;
        }
        .formula {
            background: linear-gradient(to right, #f0f0f0, #e0e0e0);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 18px 0;
            overflow-x: auto;
            font-size: 18px;
            color: #2c3e50;
            font-weight: bold;
            text-align: center;
            border: 1px dashed #bdc3c7;
        }
        .properties {
            margin: 18px 0;
        }
        .property {
            margin: 15px 0;
            padding-left: 20px;
            border-left: 3px solid #3498db;
            position: relative;
            font-size: 16px;
        }
        .property:before {
            content: "â€¢";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 24px;
        }
        .example {
            background: linear-gradient(to right, #e8f4f8, #d6eaf8);
            padding: 18px;
            border-radius: 8px;
            margin: 18px 0;
            border-left: 4px solid #3498db;
        }
        .quiz-question {
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(to right, #f5f5f5, #ffffff);
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.06);
        }
        .quiz-options {
            margin: 20px 0;
        }
        .quiz-option {
            margin: 12px 0;
            padding: 15px;
            background: linear-gradient(to right, #e9e9e9, #f5f5f5);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            border: 1px solid #ddd;
        }
        .quiz-option:hover {
            background: linear-gradient(to right, #ddd, #e9e9e9);
            transform: translateX(8px);
        }
        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-size: 16px;
        }
        .game-message {
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            display: none;
            animation: fadeIn 0.5s;
            font-size: 18px;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .success {
            background: linear-gradient(to right, #d5f5e3, #c1f0d0);
            border-left: 5px solid #2ecc71;
        }
        .warning {
            background: linear-gradient(to right, #fff3cd, #ffeeba);
            border-left: 5px solid #ffc107;
        }
        .game-stats {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.06);
            flex-wrap: wrap;
            gap: 20px;
        }
        .stat {
            text-align: center;
            margin: 10px;
            min-width: 120px;
            padding: 15px;
            border-radius: 10px;
            background: linear-gradient(to bottom, #e3f2fd, #bbdefb);
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            flex: 1;
        }
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #2980b9;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .stat-label {
            font-size: 16px;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }
        .about-content {
            background: linear-gradient(to bottom, #f8f9fa, #ffffff);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.06);
        }
        .about-content h3 {
            color: #2980b9;
            margin-top: 0;
            font-size: 1.6rem;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        .about-content ul, .about-content ol {
            padding-left: 25px;
        }
        .about-content li {
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.6;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #7f8c8d;
            font-size: 14px;
            border-top: 1px solid #eee;
        }
        .input-group {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        .answer-input {
            padding: 12px 15px;
            border: 2px solid #3498db;
            border-radius: 8px;
            font-size: 16px;
            width: 180px;
            transition: all 0.3s;
        }
        .answer-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.3);
        }
        .btn-primary {
            background: linear-gradient(to right, #3498db, #2980b9);
        }
        .btn-secondary {
            background: linear-gradient(to right, #95a5a6, #7f8c8d);
        }
        .btn-success {
            background: linear-gradient(to right, #2ecc71, #27ae60);
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            .control-group {
                margin: 10px 0;
                width: 100%;
            }
            .knowledge-card {
                flex: 1 1 100%;
            }
            .game-stats {
                flex-direction: column;
            }
            h1 {
                font-size: 2rem;
            }
            .island {
                padding: 20px 15px;
            }
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            .answer-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ“ˆ æŒ‡æ•°å‡½æ•°å†’é™©å²› ğŸï¸</h1>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('game')">ğŸ® æ¸¸æˆ</div>
            <div class="tab" onclick="switchTab('knowledge')">ğŸ“š çŸ¥è¯†åº“</div>
            <div class="tab" onclick="switchTab('about')">â„¹ï¸ å…³äº</div>
        </div>
        
        <!-- æ¸¸æˆæ ‡ç­¾é¡µ -->
        <div id="game-tab" class="tab-content active">
            <div class="progress-container">
                <div class="progress-bar" id="progress">0%</div>
            </div>
            
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="score">0</div>
                    <div class="stat-label">å¾—åˆ†</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="streak">0</div>
                    <div class="stat-label">è¿ç»­æ­£ç¡®</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="level">1</div>
                    <div class="stat-label">ç­‰çº§</div>
                </div>
            </div>
            
            <div class="game-message" id="level-up-message"></div>
            
            <div class="island" id="growth-island">
                <h2>ğŸï¸ ç¹è£å²› - æŒ‡æ•°å¢é•¿</h2>
                <p>æ¬¢è¿æ¥åˆ°ç¹è£å²›ï¼è¿™é‡Œçš„ä¸€åˆ‡éƒ½åœ¨å¿«é€Ÿå¢é•¿ã€‚è®©æˆ‘ä»¬å­¦ä¹ æŒ‡æ•°å¢é•¿å‡½æ•° y = aÂ·bË£ (b > 1)ã€‚</p>
                
                <div class="task">
                    <h3>ğŸ’° ä»»åŠ¡1: é“¶è¡Œå­˜æ¬¾</h3>
                    <p>å‡è®¾ä½ åœ¨é“¶è¡Œå­˜å…¥ <span id="growth-a-value">100</span> å…ƒï¼Œå¹´åˆ©ç‡ä¸º <span id="growth-rate-value">10</span>%ï¼Œæ¯å¹´å¤åˆ©ä¸€æ¬¡ã€‚è®¡ç®— <span id="growth-years-value">5</span> å¹´åçš„å­˜æ¬¾æ€»é¢ã€‚</p>
                    <p>å…¬å¼: y = <span id="growth-formula-a">100</span> Ã— (1 + <span id="growth-formula-rate">0.10</span>)<sup>x</sup></p>
                    <div class="input-group">
                        <input type="number" id="growth-answer" placeholder="è¾“å…¥ç­”æ¡ˆ" class="answer-input">
                        <button onclick="checkGrowthAnswer()" class="btn-primary">æäº¤ç­”æ¡ˆ</button>
                        <button onclick="generateGrowthQuestion()" class="btn-secondary">æ¢ä¸€é¢˜</button>
                    </div>
                    <div class="feedback" id="growth-feedback"></div>
                </div>
                
                <div class="graph-container">
                    <canvas id="growth-canvas"></canvas>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="growth-a">åˆå§‹å€¼ (a):</label>
                        <input type="number" id="growth-a" value="100" min="1" step="10" onchange="updateGrowthGraph()">
                    </div>
                    <div class="control-group">
                        <label for="growth-rate">å¢é•¿ç‡ (%):</label>
                        <input type="number" id="growth-rate" value="10" min="1" max="100" step="5" onchange="updateGrowthGraph()">
                    </div>
                    <div class="control-group">
                        <label for="growth-years">å¹´æ•°:</label>
                        <input type="number" id="growth-years" value="5" min="1" max="20" step="1" onchange="generateGrowthQuestion()">
                    </div>
                </div>
                
                <div class="explanation">
                    <h3>ğŸ“ˆ æŒ‡æ•°å¢é•¿ç‰¹å¾</h3>
                    <p>éšç€xçš„å¢åŠ ï¼Œyå€¼å¢é•¿è¶Šæ¥è¶Šå¿«ï¼Œæ›²çº¿å‘ˆç°"J"å½¢ã€‚</p>
                    <p>åº”ç”¨å®ä¾‹ï¼š</p>
                    <ul>
                        <li>å¤åˆ©è®¡ç®—çš„é“¶è¡Œå­˜æ¬¾</li>
                        <li>ç»†èŒç¹æ®–ï¼ˆæ¯20åˆ†é’Ÿåˆ†è£‚ä¸€æ¬¡ï¼‰</li>
                        <li>ç¤¾äº¤åª’ä½“ä¿¡æ¯çš„ä¼ æ’­</li>
                        <li>äººå£å¢é•¿ï¼ˆåœ¨èµ„æºå……è¶³æ¡ä»¶ä¸‹ï¼‰</li>
                    </ul>
                </div>
            </div>
            
            <div class="island" id="decay-island">
                <h2>ğŸï¸ è¡°å‡å²› - æŒ‡æ•°è¡°å‡</h2>
                <p>æ¬¢è¿æ¥åˆ°è¡°å‡å²›ï¼è¿™é‡Œçš„äº‹ç‰©ä¼šé€æ¸å‡å°‘ã€‚è®©æˆ‘ä»¬å­¦ä¹ æŒ‡æ•°è¡°å‡å‡½æ•° y = aÂ·bË£ (0 < b < 1)ã€‚</p>
                
                <div class="task">
                    <h3>ğŸ’Š ä»»åŠ¡2: è¯ç‰©ä»£è°¢</h3>
                    <p>å‡è®¾ä½ æœç”¨äº†ä¸€ç‰‡è¯ç‰©ï¼Œä½“å†…åˆå§‹å«é‡ä¸º <span id="decay-a-value">200</span> mgï¼Œæ¯å°æ—¶ä»£è°¢æ‰ <span id="decay-rate-value">15</span>%ã€‚è®¡ç®— <span id="decay-hours-value">6</span> å°æ—¶åä½“å†…çš„è¯ç‰©å«é‡ã€‚</p>
                    <p>å…¬å¼: y = <span id="decay-formula-a">200</span> Ã— (1 - <span id="decay-formula-rate">0.15</span>)<sup>x</sup></p>
                    <div class="input-group">
                        <input type="number" id="decay-answer" placeholder="è¾“å…¥ç­”æ¡ˆ" class="answer-input">
                        <button onclick="checkDecayAnswer()" class="btn-primary">æäº¤ç­”æ¡ˆ</button>
                        <button onclick="generateDecayQuestion()" class="btn-secondary">æ¢ä¸€é¢˜</button>
                    </div>
                    <div class="feedback" id="decay-feedback"></div>
                </div>
                
                <div class="graph-container">
                    <canvas id="decay-canvas"></canvas>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="decay-a">åˆå§‹å€¼ (a):</label>
                        <input type="number" id="decay-a" value="200" min="1" step="10" onchange="updateDecayGraph()">
                    </div>
                    <div class="control-group">
                        <label for="decay-rate">è¡°å‡ç‡ (%):</label>
                        <input type="number" id="decay-rate" value="15" min="1" max="99" step="5" onchange="updateDecayGraph()">
                    </div>
                    <div class="control-group">
                        <label for="decay-hours">å°æ—¶æ•°:</label>
                        <input type="number" id="decay-hours" value="6" min="1" max="24" step="1" onchange="generateDecayQuestion()">
                    </div>
                </div>
                
                <div class="explanation">
                    <h3>ğŸ“‰ æŒ‡æ•°è¡°å‡ç‰¹å¾</h3>
                    <p>éšç€xçš„å¢åŠ ï¼Œyå€¼å‡å°‘è¶Šæ¥è¶Šæ…¢ï¼Œæ›²çº¿é€æ¸æ¥è¿‘xè½´ä½†æ°¸ä¸è§¦åŠã€‚</p>
                    <p>åº”ç”¨å®ä¾‹ï¼š</p>
                    <ul>
                        <li>æ”¾å°„æ€§ç‰©è´¨çš„è¡°å˜</li>
                        <li>è¯ç‰©åœ¨ä½“å†…çš„ä»£è°¢</li>
                        <li>æ±½è½¦ä»·å€¼çš„æŠ˜æ—§</li>
                        <li>ç”µå®¹å™¨çš„æ”¾ç”µè¿‡ç¨‹</li>
                    </ul>
                </div>
            </div>
            
            <div class="task" id="final-task" style="display:none;">
                <h3>ğŸ† æœ€ç»ˆæŒ‘æˆ˜</h3>
                <p>æ­å–œä½ å®Œæˆäº†ä¸¤ä¸ªå²›å±¿çš„ä»»åŠ¡ï¼ç°åœ¨å›ç­”ä»¥ä¸‹é—®é¢˜æ¥æ£€éªŒä½ çš„ç†è§£ï¼š</p>
                <div class="quiz-question">
                    <p>1. æŒ‡æ•°å¢é•¿å’ŒæŒ‡æ•°è¡°å‡å‡½æ•°åœ¨å›¾åƒä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkFinalAnswer(1, this)">å¢é•¿å‡½æ•°ä¸Šå‡è¶Šæ¥è¶Šå¿«ï¼Œè¡°å‡å‡½æ•°ä¸‹é™è¶Šæ¥è¶Šæ…¢</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(1, this)">å¢é•¿å‡½æ•°æ˜¯ç›´çº¿ï¼Œè¡°å‡å‡½æ•°æ˜¯æ›²çº¿</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(1, this)">ä¸¤è€…æ²¡æœ‰åŒºåˆ«</div>
                    </div>
                    <div class="quiz-feedback" id="final-feedback-1"></div>
                </div>
                
                <div class="quiz-question">
                    <p>2. ä¸‹åˆ—å“ªä¸ªåœºæ™¯æœ€é€‚åˆç”¨æŒ‡æ•°å‡½æ•°æè¿°ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkFinalAnswer(2, this)">é“¶è¡Œå¤åˆ©å­˜æ¬¾</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(2, this)">åŒ€é€Ÿè¡Œé©¶çš„æ±½è½¦</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(2, this)">è‡ªç”±è½ä½“çš„ç‰©ä½“</div>
                    </div>
                    <div class="quiz-feedback" id="final-feedback-2"></div>
                </div>
                
                <div class="quiz-question">
                    <p>3. å½“xè¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼ŒæŒ‡æ•°è¡°å‡å‡½æ•°yå€¼ä¼šæ€æ ·ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkFinalAnswer(3, this)">è¶‹è¿‘äº0ä½†ä¸ç­‰äº0</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(3, this)">è¶‹è¿‘äºæ— ç©·å¤§</div>
                        <div class="quiz-option" onclick="checkFinalAnswer(3, this)">ä¿æŒä¸å˜</div>
                    </div>
                    <div class="quiz-feedback" id="final-feedback-3"></div>
                </div>
            </div>
        </div>
        
        <!-- çŸ¥è¯†åº“æ ‡ç­¾é¡µ -->
        <div id="knowledge-tab" class="tab-content">
            <h2>ğŸ“š æŒ‡æ•°å‡½æ•°çŸ¥è¯†åº“</h2>
            
            <div class="knowledge-content">
                <div class="knowledge-card">
                    <h3>ğŸ” ä»€ä¹ˆæ˜¯æŒ‡æ•°å‡½æ•°ï¼Ÿ</h3>
                    <div class="formula">y = aÂ·bË£</div>
                    <p>æŒ‡æ•°å‡½æ•°æ˜¯ä»¥å¸¸æ•°bä¸ºåº•æ•°ï¼Œxä¸ºæŒ‡æ•°çš„å‡½æ•°ï¼Œå…¶ä¸­aæ˜¯åˆå§‹å€¼ï¼Œbæ˜¯åº•æ•°ã€‚</p>
                    <p>å½“b > 1æ—¶ï¼Œå‡½æ•°å‘ˆç°æŒ‡æ•°å¢é•¿ï¼›å½“0 < b < 1æ—¶ï¼Œå‡½æ•°å‘ˆç°æŒ‡æ•°è¡°å‡ã€‚</p>
                    <div class="example">
                        <strong>ä¾‹å­ï¼š</strong>
                        <p>å¢é•¿å‡½æ•°ï¼šy = 2Â·3Ë£</p>
                        <p>è¡°å‡å‡½æ•°ï¼šy = 100Â·0.5Ë£</p>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3>ğŸ“ˆ æŒ‡æ•°å¢é•¿å‡½æ•°</h3>
                    <div class="formula">y = aÂ·bË£ (b > 1)</div>
                    <div class="properties">
                        <div class="property">å›¾åƒç‰¹å¾ï¼šä»å·¦å‘å³å¿«é€Ÿä¸Šå‡çš„æ›²çº¿</div>
                        <div class="property">å®šä¹‰åŸŸï¼šæ‰€æœ‰å®æ•° (-âˆ, +âˆ)</div>
                        <div class="property">å€¼åŸŸï¼š(0, +âˆ)</div>
                        <div class="property">yæˆªè·ï¼š(0, a)</div>
                        <div class="property">æ¸è¿‘çº¿ï¼šy = 0</div>
                    </div>
                    <div class="example">
                        <strong>ä¾‹å­ï¼š</strong>ç»†èŒç¹æ®–ï¼Œåˆå§‹æ•°é‡ä¸º100ï¼Œæ¯å°æ—¶å¢é•¿50%ï¼š
                        <div class="formula">y = 100 Ã— 1.5Ë£</div>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3>ğŸ“‰ æŒ‡æ•°è¡°å‡å‡½æ•°</h3>
                    <div class="formula">y = aÂ·bË£ (0 < b < 1)</div>
                    <div class="properties">
                        <div class="property">å›¾åƒç‰¹å¾ï¼šä»å·¦å‘å³é€æ¸è¶‹è¿‘xè½´çš„æ›²çº¿</div>
                        <div class="property">å®šä¹‰åŸŸï¼šæ‰€æœ‰å®æ•° (-âˆ, +âˆ)</div>
                        <div class="property">å€¼åŸŸï¼š(0, +âˆ)</div>
                        <div class="property">yæˆªè·ï¼š(0, a)</div>
                        <div class="property">æ¸è¿‘çº¿ï¼šy = 0</div>
                    </div>
                    <div class="example">
                        <strong>ä¾‹å­ï¼š</strong>æ”¾å°„æ€§ç‰©è´¨è¡°å˜ï¼Œåˆå§‹è´¨é‡ä¸º200gï¼ŒåŠè¡°æœŸä¸º10å°æ—¶ï¼š
                        <div class="formula">y = 200 Ã— 0.5Ë£/Â¹â°</div>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3>ğŸ§® æŒ‡æ•°å‡½æ•°çš„æ€§è´¨</h3>
                    <div class="properties">
                        <div class="property">å‡½æ•°å€¼å§‹ç»ˆä¸ºæ­£ (y > 0)</div>
                        <div class="property">å½“xå¢åŠ 1å•ä½æ—¶ï¼Œyå˜ä¸ºåŸæ¥çš„bå€</div>
                        <div class="property">å¢é•¿/è¡°å‡é€Ÿåº¦ä¸å½“å‰å€¼æˆæ­£æ¯”</div>
                        <div class="property">å¯¼æ•°ä¸åŸå‡½æ•°æˆæ­£æ¯” (dy/dx = kÂ·y)</div>
                        <div class="property">æ²¡æœ‰æœ€å¤§å€¼æˆ–æœ€å°å€¼</div>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3>âš›ï¸ è‡ªç„¶æŒ‡æ•°å‡½æ•°</h3>
                    <div class="formula">y = aÂ·eáµË£</div>
                    <p>ä»¥è‡ªç„¶å¸¸æ•°eâ‰ˆ2.71828ä¸ºåº•çš„æŒ‡æ•°å‡½æ•°ï¼Œåœ¨ç§‘å­¦å’Œå·¥ç¨‹ä¸­å¹¿æ³›åº”ç”¨ã€‚</p>
                    <div class="properties">
                        <div class="property">k > 0ï¼šæŒ‡æ•°å¢é•¿</div>
                        <div class="property">k < 0ï¼šæŒ‡æ•°è¡°å‡</div>
                        <div class="property">å¯¼æ•°ç­‰äºè‡ªèº«ï¼šdy/dx = kÂ·y</div>
                    </div>
                    <div class="example">
                        <strong>åº”ç”¨ï¼š</strong>
                        <p>è¿ç»­å¤åˆ©è®¡ç®—</p>
                        <p>æ”¾å°„æ€§è¡°å˜</p>
                        <p>RCç”µè·¯åˆ†æ</p>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3>ğŸŒ å®é™…åº”ç”¨æ¡ˆä¾‹</h3>
                    <div class="example">
                        <strong>å¢é•¿æ¡ˆä¾‹ï¼š</strong>
                        <ul>
                            <li>äººå£å¢é•¿æ¨¡å‹</li>
                            <li>ç—…æ¯’ä¼ æ’­</li>
                            <li>æŠ•èµ„æ”¶ç›Šè®¡ç®—</li>
                            <li>ç¤¾äº¤åª’ä½“ä¼ æ’­</li>
                        </ul>
                    </div>
                    <div class="example">
                        <strong>è¡°å‡æ¡ˆä¾‹ï¼š</strong>
                        <ul>
                            <li>è¯ç‰©ä»£è°¢</li>
                            <li>ç”µå®¹æ”¾ç”µ</li>
                            <li>å£°éŸ³è¡°å‡</li>
                            <li>æ¸©åº¦å†·å´</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="task">
                <h3>ğŸ§  çŸ¥è¯†å°æµ‹éªŒ</h3>
                <div class="quiz-question">
                    <p>1. æŒ‡æ•°å‡½æ•°y=2Â·3Ë£çš„å¢é•¿å› å­æ˜¯å¤šå°‘ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(1, this)">2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(1, this)">3</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(1, this)">6</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-1"></div>
                </div>
                
                <div class="quiz-question">
                    <p>2. ä¸‹åˆ—å“ªä¸ªå‡½æ•°çš„è¡°å‡æœ€å¿«ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(2, this)">y=100Â·0.9Ë£</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(2, this)">y=100Â·0.5Ë£</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(2, this)">y=100Â·0.1Ë£</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-2"></div>
                </div>
                
                <div class="quiz-question">
                    <p>3. æŒ‡æ•°å‡½æ•°y=aÂ·bË£çš„yæˆªè·æ˜¯ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(3, this)">(0,0)</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(3, this)">(0,a)</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(3, this)">(0,b)</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-3"></div>
                </div>

                <div class="quiz-question">
                    <p>4. æ–¹ç¨‹ 2<sup>x</sup> = 8 çš„è§£æ˜¯ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(4, this)">x=2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(4, this)">x=3</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(4, this)">x=4</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-4"></div>
                </div>

                <div class="quiz-question">
                    <p>5. ä¸ç­‰å¼ 3<sup>x</sup> < 9 çš„è§£é›†æ˜¯ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(5, this)">x < 2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(5, this)">x > 2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(5, this)">x < 3</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-5"></div>
                </div>

                <div class="quiz-question">
                    <p>6. æ¯”è¾ƒå¤§å°ï¼š0.5<sup>2</sup> å’Œ 0.5<sup>3</sup></p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(6, this)">0.5Â² > 0.5Â³</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(6, this)">0.5Â² < 0.5Â³</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(6, this)">0.5Â² = 0.5Â³</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-6"></div>
                </div>

                <div class="quiz-question">
                    <p>7. æ–¹ç¨‹ 4<sup>x</sup> = 2<sup>x+1</sup> çš„è§£æ˜¯ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(7, this)">x=1</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(7, this)">x=2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(7, this)">x=0</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-7"></div>
                </div>

                <div class="quiz-question">
                    <p>8. ä¸‹åˆ—å“ªç»„æ•°å€¼ä¸­ï¼Œy=2<sup>x</sup> çš„å‡½æ•°å€¼æœ€å¤§ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(8, this)">x=0</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(8, this)">x=1</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(8, this)">x=3</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-8"></div>
                </div>

                <div class="quiz-question">
                    <p>9. ä¸ç­‰å¼ (1/3)<sup>x</sup> > 1/9 çš„è§£é›†æ˜¯ï¼Ÿ</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(9, this)">x < 2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(9, this)">x > 2</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(9, this)">x < -2</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-9"></div>
                </div>

                <div class="quiz-question">
                    <p>10. æ¯”è¾ƒå¤§å°ï¼š2<sup>3</sup> å’Œ 3<sup>2</sup></p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(10, this)">2Â³ > 3Â²</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(10, this)">2Â³ < 3Â²</div>
                        <div class="quiz-option" onclick="checkKnowledgeAnswer(10, this)">2Â³ = 3Â²</div>
                    </div>
                    <div class="quiz-feedback" id="knowledge-feedback-10"></div>
                </div>
            </div>
        </div>
        
        <!-- å…³äºæ ‡ç­¾é¡µ -->
        <div id="about-tab" class="tab-content">
            <div class="about-content">
                <h2>â„¹ï¸ å…³äºæŒ‡æ•°å‡½æ•°å†’é™©å²›</h2>
                <p>è¿™ä¸ªäº’åŠ¨å­¦ä¹ å·¥å…·æ—¨åœ¨å¸®åŠ©é«˜ä¸­å­¦ç”Ÿé€šè¿‡æ¸¸æˆåŒ–æ–¹å¼ç†è§£æŒ‡æ•°å‡½æ•°çš„æ¦‚å¿µå’Œåº”ç”¨ã€‚</p>
                
                <h3>ğŸ¯ å­¦ä¹ ç›®æ ‡</h3>
                <ul>
                    <li>ç†è§£æŒ‡æ•°å¢é•¿å’ŒæŒ‡æ•°è¡°å‡çš„å®šä¹‰</li>
                    <li>æŒæ¡æŒ‡æ•°å‡½æ•°çš„å›¾åƒç‰¹å¾</li>
                    <li>èƒ½å¤Ÿåº”ç”¨æŒ‡æ•°å‡½æ•°è§£å†³å®é™…é—®é¢˜</li>
                    <li>åŒºåˆ†æŒ‡æ•°å‡½æ•°ä¸å…¶ä»–ç±»å‹å‡½æ•°çš„åŒºåˆ«</li>
                    <li>åŸ¹å…»æ•°å­¦å»ºæ¨¡å’Œé—®é¢˜è§£å†³èƒ½åŠ›</li>
                </ul>
                
                <h3>ğŸ•¹ï¸ ä½¿ç”¨æ–¹æ³•</h3>
                <ol>
                    <li>åœ¨"æ¸¸æˆ"æ ‡ç­¾é¡µå®Œæˆä¸¤ä¸ªå²›å±¿çš„ä»»åŠ¡</li>
                    <li>é€šè¿‡è°ƒæ•´å‚æ•°è§‚å¯Ÿå‡½æ•°å›¾åƒå˜åŒ–</li>
                    <li>åœ¨"çŸ¥è¯†åº“"æ ‡ç­¾é¡µå­¦ä¹ ç†è®ºçŸ¥è¯†</li>
                    <li>å®Œæˆæµ‹éªŒæ£€éªŒå­¦ä¹ æˆæœ</li>
                    <li>æŸ¥çœ‹è¿›åº¦å’Œå¾—åˆ†ï¼ŒæŒ‘æˆ˜æ›´é«˜ç­‰çº§</li>
                </ol>
                
                <h3>ğŸ‘¨â€ğŸ“ é€‚ç”¨å¯¹è±¡</h3>
                <p>é«˜ä¸­ä¸€å¹´çº§åŠä»¥ä¸Šå­¦ç”Ÿ</p>
                <p>éœ€è¦å¤ä¹ æŒ‡æ•°å‡½æ•°çš„å¤§å­¦ä½å¹´çº§å­¦ç”Ÿ</p>
                <p>å¯¹æ•°å­¦æ„Ÿå…´è¶£çš„è‡ªå­¦è€…</p>
                
                <h3>ğŸ“Š æ•°å­¦çŸ¥è¯†ç‚¹</h3>
                <ul>
                    <li>æŒ‡æ•°å‡½æ•°çš„åŸºæœ¬æ¦‚å¿µ</li>
                    <li>å‡½æ•°å›¾åƒä¸æ€§è´¨</li>
                    <li>å®é™…åº”ç”¨é—®é¢˜</li>
                    <li>è‡ªç„¶æŒ‡æ•°å‡½æ•°</li>
                    <li>åŠè¡°æœŸä¸å€å¢æ—¶é—´</li>
                </ul>
                
                <h3>ğŸ› ï¸ æŠ€æœ¯ç‰¹ç‚¹</h3>
                <ul>
                    <li>å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§è®¾å¤‡</li>
                    <li>äº¤äº’å¼å›¾è¡¨ï¼Œå®æ—¶åé¦ˆ</li>
                    <li>æ¸¸æˆåŒ–å­¦ä¹ ä½“éªŒ</li>
                    <li>å³æ—¶è¯„ä¼°ä¸åé¦ˆ</li>
                    <li>ä¸°å¯Œçš„å®é™…åº”ç”¨æ¡ˆä¾‹</li>
                </ul>
                
                <div class="footer">
                    <p>Â© 2023 æŒ‡æ•°å‡½æ•°å†’é™©å²› - æ•°å­¦æ•™è‚²å·¥å…·</p>
                    <p>ç‰ˆæœ¬ 2.0 | æœ€åæ›´æ–°: 2023å¹´11æœˆ</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            score: 0,
            streak: 0,
            level: 1,
            completedTasks: 0
        };
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.querySelector(`.tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }
        
        // æ›´æ–°æ¸¸æˆçŠ¶æ€æ˜¾ç¤º
        function updateGameStats() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('streak').textContent = gameState.streak;
            document.getElementById('level').textContent = gameState.level;
            
            // æ›´æ–°è¿›åº¦
            const progress = Math.min(100, gameState.completedTasks * 50);
            const progressBar = document.getElementById('progress');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${progress}%`;
            
            // æ£€æŸ¥æ˜¯å¦è§£é”æœ€ç»ˆä»»åŠ¡
            if (gameState.completedTasks >= 2) {
                document.getElementById('final-task').style.display = 'block';
            }
        }
        
        // æ˜¾ç¤ºå‡çº§æ¶ˆæ¯
        function showLevelUp() {
            const message = document.getElementById('level-up-message');
            message.textContent = `ğŸ‰ æ­å–œå‡çº§ï¼ç°åœ¨æ˜¯ç­‰çº§ ${gameState.level}`;
            message.className = 'game-message success';
            message.style.display = 'block';
            
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }
        
        // ç»˜åˆ¶å¢é•¿å›¾è¡¨
        function updateGrowthGraph() {
            const a = parseFloat(document.getElementById('growth-a').value);
            const rate = parseFloat(document.getElementById('growth-rate').value);
            const years = parseFloat(document.getElementById('growth-years').value);
            const b = 1 + rate / 100;
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('growth-a-value').textContent = a;
            document.getElementById('growth-rate-value').textContent = rate;
            document.getElementById('growth-years-value').textContent = years;
            document.getElementById('growth-formula-a').textContent = a;
            document.getElementById('growth-formula-rate').textContent = (rate / 100).toFixed(2);
            
            const canvas = document.getElementById('growth-canvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.offsetWidth;
            const height = canvas.height = canvas.offsetHeight;
            
            // æ¸…é™¤ç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            
            // Yè½´
            ctx.beginPath();
            ctx.moveTo(50, 20);
            ctx.lineTo(50, height - 30);
            ctx.stroke();
            
            // Xè½´
            ctx.beginPath();
            ctx.moveTo(50, height - 30);
            ctx.lineTo(width - 10, height - 30);
            ctx.stroke();
            
            // ç»˜åˆ¶ç®­å¤´
            ctx.beginPath();
            ctx.moveTo(50, 20);
            ctx.lineTo(45, 30);
            ctx.lineTo(55, 30);
            ctx.closePath();
            ctx.fillStyle = '#333';
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(width - 10, height - 30);
            ctx.lineTo(width - 20, height - 35);
            ctx.lineTo(width - 20, height - 25);
            ctx.closePath();
            ctx.fill();
            
            // åŠ¨æ€è°ƒæ•´Xè½´èŒƒå›´
            const maxX = Math.max(10, years); // è‡³å°‘æ˜¾ç¤º10ä¸ªå•ä½ï¼Œä½†ä¸è¶…è¿‡years
            const xStep = (width - 60) / maxX;
            
            // ç»˜åˆ¶åˆ»åº¦
            ctx.font = '12px Arial';
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';
            for (let i = 0; i <= maxX; i++) {
                const x = 50 + i * xStep;
                ctx.beginPath();
                ctx.moveTo(x, height - 30);
                ctx.lineTo(x, height - 25);
                ctx.stroke();
                ctx.fillText(i, x, height - 10);
            }
            
            // Yè½´åˆ»åº¦
            const maxY = a * Math.pow(b, maxX);
            for (let i = 0; i <= 5; i++) {
                const y = height - 30 - i * (height - 50) / 5;
                ctx.beginPath();
                ctx.moveTo(50, y);
                ctx.lineTo(55, y);
                ctx.stroke();
                ctx.fillText(Math.round(maxY * i / 5), 35, y + 5);
            }
            
            // é«˜äº®æ˜¾ç¤ºé—®é¢˜ä¸­çš„å¹´æ•°ä½ç½®
            if (years <= maxX) {
                const highlightX = 50 + years * xStep;
                const yValue = a * Math.pow(b, years);
                const highlightY = height - 30 - (yValue / maxY) * (height - 50);
                
                // ç»˜åˆ¶å‚ç›´çº¿
                ctx.strokeStyle = '#2ecc71';
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(highlightX, 20);
                ctx.lineTo(highlightX, height - 30);
                ctx.stroke();
                
                // ç»˜åˆ¶æ°´å¹³çº¿
                ctx.beginPath();
                ctx.moveTo(50, highlightY);
                ctx.lineTo(highlightX, highlightY);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // ç»˜åˆ¶äº¤ç‚¹
                ctx.fillStyle = '#2ecc71';
                ctx.beginPath();
                ctx.arc(highlightX, highlightY, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // æ·»åŠ æ ‡ç­¾
                ctx.fillStyle = '#2ecc71';
                ctx.fillText(`ç¬¬${years}å¹´`, highlightX, height - 40);
                ctx.fillText(yValue.toFixed(1), 35, highlightY + 5);
            }
            
            // ç»˜åˆ¶æ›²çº¿
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = 0; x <= maxX; x += 0.1) {
                const y = a * Math.pow(b, x);
                const px = 50 + x * xStep;
                const py = height - 30 - (y / maxY) * (height - 50);
                
                if (x === 0) {
                    ctx.moveTo(px, py);
                } else {
                    ctx.lineTo(px, py);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶æ•´æ•°ç‚¹
            ctx.fillStyle = '#e74c3c';
            for (let x = 0; x <= maxX; x++) {
                const y = a * Math.pow(b, x);
                const px = 50 + x * xStep;
                const py = height - 30 - (y / maxY) * (height - 50);
                
                ctx.beginPath();
                ctx.arc(px, py, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // æ·»åŠ å‡½æ•°å…¬å¼æ ‡ç­¾
            ctx.font = '16px Arial';
            ctx.fillStyle = '#2980b9';
            ctx.textAlign = 'left';
            ctx.fillText(`y = ${a.toFixed(0)} Ã— ${b.toFixed(2)}Ë£`, 60, 30);
        }
        
        // ç»˜åˆ¶è¡°å‡å›¾è¡¨
        function updateDecayGraph() {
            const a = parseFloat(document.getElementById('decay-a').value);
            const rate = parseFloat(document.getElementById('decay-rate').value);
            const hours = parseFloat(document.getElementById('decay-hours').value);
            const b = 1 - rate / 100;
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('decay-a-value').textContent = a;
            document.getElementById('decay-rate-value').textContent = rate;
            document.getElementById('decay-hours-value').textContent = hours;
            document.getElementById('decay-formula-a').textContent = a;
            document.getElementById('decay-formula-rate').textContent = (rate / 100).toFixed(2);
            
            const canvas = document.getElementById('decay-canvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.offsetWidth;
            const height = canvas.height = canvas.offsetHeight;
            
            // æ¸…é™¤ç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            
            // Yè½´
            ctx.beginPath();
            ctx.moveTo(50, 20);
            ctx.lineTo(50, height - 30);
            ctx.stroke();
            
            // Xè½´
            ctx.beginPath();
            ctx.moveTo(50, height - 30);
            ctx.lineTo(width - 10, height - 30);
            ctx.stroke();
            
            // ç»˜åˆ¶ç®­å¤´
            ctx.beginPath();
            ctx.moveTo(50, 20);
            ctx.lineTo(45, 30);
            ctx.lineTo(55, 30);
            ctx.closePath();
            ctx.fillStyle = '#333';
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(width - 10, height - 30);
            ctx.lineTo(width - 20, height - 35);
            ctx.lineTo(width - 20, height - 25);
            ctx.closePath();
            ctx.fill();
            
            // åŠ¨æ€è°ƒæ•´Xè½´èŒƒå›´
            const maxX = Math.max(10, hours); // è‡³å°‘æ˜¾ç¤º10å°æ—¶ï¼Œä½†ä¸è¶…è¿‡hours
            const xStep = (width - 60) / maxX;
            
            // ç»˜åˆ¶åˆ»åº¦
            ctx.font = '12px Arial';
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';
            for (let i = 0; i <= maxX; i++) {
                const x = 50 + i * xStep;
                ctx.beginPath();
                ctx.moveTo(x, height - 30);
                ctx.lineTo(x, height - 25);
                ctx.stroke();
                ctx.fillText(i, x, height - 10);
            }
            
            // Yè½´åˆ»åº¦
            for (let i = 0; i <= 5; i++) {
                const y = height - 30 - i * (height - 50) / 5;
                ctx.beginPath();
                ctx.moveTo(50, y);
                ctx.lineTo(55, y);
                ctx.stroke();
                ctx.fillText(Math.round(a * i / 5), 35, y + 5);
            }
            
            // é«˜äº®æ˜¾ç¤ºé—®é¢˜ä¸­çš„å°æ—¶æ•°ä½ç½®
            if (hours <= maxX) {
                const highlightX = 50 + hours * xStep;
                const yValue = a * Math.pow(b, hours);
                const highlightY = height - 30 - (yValue / a) * (height - 50);
                
                // ç»˜åˆ¶å‚ç›´çº¿
                ctx.strokeStyle = '#2ecc71';
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(highlightX, 20);
                ctx.lineTo(highlightX, height - 30);
                ctx.stroke();
                
                // ç»˜åˆ¶æ°´å¹³çº¿
                ctx.beginPath();
                ctx.moveTo(50, highlightY);
                ctx.lineTo(highlightX, highlightY);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // ç»˜åˆ¶äº¤ç‚¹
                ctx.fillStyle = '#2ecc71';
                ctx.beginPath();
                ctx.arc(highlightX, highlightY, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // æ·»åŠ æ ‡ç­¾
                ctx.fillStyle = '#2ecc71';
                ctx.fillText(`${hours}å°æ—¶`, highlightX, height - 40);
                ctx.fillText(yValue.toFixed(1), 35, highlightY + 5);
            }
            
            // ç»˜åˆ¶æ›²çº¿
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = 0; x <= maxX; x += 0.1) {
                const y = a * Math.pow(b, x);
                const px = 50 + x * xStep;
                const py = height - 30 - (y / a) * (height - 50);
                
                if (x === 0) {
                    ctx.moveTo(px, py);
                } else {
                    ctx.lineTo(px, py);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶æ•´æ•°ç‚¹
            ctx.fillStyle = '#3498db';
            for (let x = 0; x <= maxX; x++) {
                const y = a * Math.pow(b, x);
                const px = 50 + x * xStep;
                const py = height - 30 - (y / a) * (height - 50);
                
                ctx.beginPath();
                ctx.arc(px, py, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // æ·»åŠ å‡½æ•°å…¬å¼æ ‡ç­¾
            ctx.font = '16px Arial';
            ctx.fillStyle = '#2980b9';
            ctx.textAlign = 'left';
            ctx.fillText(`y = ${a.toFixed(0)} Ã— ${b.toFixed(2)}Ë£`, 60, 30);
        }
        
        // ç”Ÿæˆå¢é•¿é—®é¢˜
        function generateGrowthQuestion() {
            const a = parseInt(document.getElementById('growth-a').value);
            const rate = parseInt(document.getElementById('growth-rate').value);
            const years = parseInt(document.getElementById('growth-years').value);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('growth-years-value').textContent = years;
            document.getElementById('growth-formula-rate').textContent = (rate / 100).toFixed(2);
            
            // æ¸…ç©ºç­”æ¡ˆå’Œåé¦ˆ
            document.getElementById('growth-answer').value = '';
            document.getElementById('growth-feedback').style.display = 'none';
            
            // æ›´æ–°å›¾è¡¨
            updateGrowthGraph();
        }
        
        // ç”Ÿæˆè¡°å‡é—®é¢˜
        function generateDecayQuestion() {
            const a = parseInt(document.getElementById('decay-a').value);
            const rate = parseInt(document.getElementById('decay-rate').value);
            const hours = parseInt(document.getElementById('decay-hours').value);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('decay-hours-value').textContent = hours;
            document.getElementById('decay-formula-rate').textContent = (rate / 100).toFixed(2);
            
            // æ¸…ç©ºç­”æ¡ˆå’Œåé¦ˆ
            document.getElementById('decay-answer').value = '';
            document.getElementById('decay-feedback').style.display = 'none';
            
            // æ›´æ–°å›¾è¡¨
            updateDecayGraph();
        }
        
        // æ£€æŸ¥å¢é•¿é—®é¢˜çš„ç­”æ¡ˆ
        function checkGrowthAnswer() {
            const a = parseFloat(document.getElementById('growth-a').value);
            const rate = parseFloat(document.getElementById('growth-rate').value);
            const years = parseFloat(document.getElementById('growth-years').value);
            const b = 1 + rate / 100;
            
            const correctAnswer = (a * Math.pow(b, years)).toFixed(2);
            const userAnswer = parseFloat(document.getElementById('growth-answer').value);
            
            const feedback = document.getElementById('growth-feedback');
            
            if (userAnswer && Math.abs(userAnswer - correctAnswer) < 0.1) {
                feedback.textContent = `âœ… æ­£ç¡®ï¼${years}å¹´åä½ çš„å­˜æ¬¾å°†æ˜¯çº¦${correctAnswer}å…ƒã€‚`;
                feedback.className = 'feedback correct';
                
                // æ›´æ–°æ¸¸æˆçŠ¶æ€
                gameState.score += 10;
                gameState.streak += 1;
                if (gameState.streak % 3 === 0) {
                    gameState.level += 1;
                    showLevelUp();
                }
                gameState.completedTasks = Math.max(gameState.completedTasks, 1);
                updateGameStats();
            } else {
                feedback.textContent = `âŒ ä¸å¤ªå¯¹ã€‚æ­£ç¡®çš„è®¡ç®—æ˜¯${a} Ã— ${b.toFixed(2)}âµ â‰ˆ ${correctAnswer}ã€‚å†è¯•è¯•çœ‹ï¼`;
                feedback.className = 'feedback incorrect';
                gameState.streak = 0;
                updateGameStats();
            }
            feedback.style.display = 'block';
        }
        
        // æ£€æŸ¥è¡°å‡é—®é¢˜çš„ç­”æ¡ˆ
        function checkDecayAnswer() {
            const a = parseFloat(document.getElementById('decay-a').value);
            const rate = parseFloat(document.getElementById('decay-rate').value);
            const hours = parseFloat(document.getElementById('decay-hours').value);
            const b = 1 - rate / 100;
            
            const correctAnswer = (a * Math.pow(b, hours)).toFixed(2);
            const userAnswer = parseFloat(document.getElementById('decay-answer').value);
            
            const feedback = document.getElementById('decay-feedback');
            
            if (userAnswer && Math.abs(userAnswer - correctAnswer) < 0.1) {
                feedback.textContent = `âœ… æ­£ç¡®ï¼${hours}å°æ—¶åä½“å†…è¯ç‰©å«é‡çº¦ä¸º${correctAnswer}mgã€‚`;
                feedback.className = 'feedback correct';
                
                // æ›´æ–°æ¸¸æˆçŠ¶æ€
                gameState.score += 10;
                gameState.streak += 1;
                if (gameState.streak % 3 === 0) {
                    gameState.level += 1;
                    showLevelUp();
                }
                gameState.completedTasks = Math.max(gameState.completedTasks, 2);
                updateGameStats();
            } else {
                feedback.textContent = `âŒ ä¸å¤ªå¯¹ã€‚æ­£ç¡®çš„è®¡ç®—æ˜¯${a} Ã— ${b.toFixed(2)}â¶ â‰ˆ ${correctAnswer}ã€‚å†è¯•è¯•çœ‹ï¼`;
                feedback.className = 'feedback incorrect';
                gameState.streak = 0;
                updateGameStats();
            }
            feedback.style.display = 'block';
        }
        
        // æ£€æŸ¥æœ€ç»ˆç­”æ¡ˆ
        function checkFinalAnswer(questionNum, option) {
            const correctAnswers = {
                1: 0, // ç¬¬ä¸€ä¸ªé€‰é¡¹æ­£ç¡®
                2: 0, // ç¬¬ä¸€ä¸ªé€‰é¡¹æ­£ç¡®
                3: 0  // ç¬¬ä¸€ä¸ªé€‰é¡¹æ­£ç¡®
            };
            
            const feedback = document.getElementById(`final-feedback-${questionNum}`);
            const options = option.parentElement.children;
            
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é«˜äº®
            for (let i = 0; i < options.length; i++) {
                options[i].style.backgroundColor = '';
                options[i].style.backgroundImage = '';
            }
            
            // æ£€æŸ¥ç­”æ¡ˆ
            if (Array.from(options).indexOf(option) === correctAnswers[questionNum]) {
                option.style.background = 'linear-gradient(to right, #d5f5e3, #c1f0d0)';
                feedback.textContent = getFinalFeedback(questionNum, true);
                feedback.className = 'quiz-feedback correct';
                
                // æ›´æ–°æ¸¸æˆçŠ¶æ€
                gameState.score += 5;
                updateGameStats();
            } else {
                option.style.background = 'linear-gradient(to right, #fadbd8, #f5cac9)';
                feedback.textContent = getFinalFeedback(questionNum, false);
                feedback.className = 'quiz-feedback incorrect';
            }
            feedback.style.display = 'block';
        }
        
        // è·å–æœ€ç»ˆé—®é¢˜çš„åé¦ˆ
        function getFinalFeedback(questionNum, isCorrect) {
            const feedback = {
                1: {
                    correct: "âœ… æ­£ç¡®ï¼æŒ‡æ•°å¢é•¿å‡½æ•°éšç€xå¢åŠ è€Œå¿«é€Ÿä¸Šå‡ï¼ŒæŒ‡æ•°è¡°å‡å‡½æ•°éšç€xå¢åŠ è€Œé€æ¸è¶‹è¿‘äº0ã€‚",
                    incorrect: "âŒ æ³¨æ„ï¼šæŒ‡æ•°å¢é•¿å‡½æ•°ä¸æ˜¯ç›´çº¿ï¼Œè€Œæ˜¯ä¸Šå‡è¶Šæ¥è¶Šå¿«çš„æ›²çº¿ï¼›æŒ‡æ•°è¡°å‡å‡½æ•°æ˜¯ä¸‹é™è¶Šæ¥è¶Šæ…¢çš„æ›²çº¿ã€‚"
                },
                2: {
                    correct: "âœ… æ­£ç¡®ï¼é“¶è¡Œå¤åˆ©å­˜æ¬¾æ˜¯æŒ‡æ•°å¢é•¿çš„å…¸å‹ä¾‹å­ã€‚",
                    incorrect: "âŒ åŒ€é€Ÿè¡Œé©¶çš„æ±½è½¦æ˜¯çº¿æ€§å‡½æ•°ï¼Œè‡ªç”±è½ä½“æ˜¯äºŒæ¬¡å‡½æ•°ï¼Œåªæœ‰å¤åˆ©å­˜æ¬¾æ˜¯æŒ‡æ•°å‡½æ•°ã€‚"
                },
                3: {
                    correct: "âœ… æ­£ç¡®ï¼æŒ‡æ•°è¡°å‡å‡½æ•°è¶‹è¿‘äº0ä½†æ°¸è¿œä¸ä¼šç­‰äº0ã€‚",
                    incorrect: "âŒ å†æƒ³æƒ³ï¼šæŒ‡æ•°è¡°å‡å‡½æ•°ä¼šæ— é™æ¥è¿‘0ä½†ä¸ä¼šçœŸæ­£è¾¾åˆ°0ã€‚"
                }
            };
            
            return isCorrect ? feedback[questionNum].correct : feedback[questionNum].incorrect;
        }
        
        // æ£€æŸ¥çŸ¥è¯†åº“æµ‹éªŒç­”æ¡ˆ
        function checkKnowledgeAnswer(questionNum, option) {
            const correctAnswers = {
                1: 1, // ç¬¬äºŒä¸ªé€‰é¡¹æ­£ç¡®
                2: 2, // ç¬¬ä¸‰ä¸ªé€‰é¡¹æ­£ç¡®
                3: 1, // ç¬¬äºŒä¸ªé€‰é¡¹æ­£ç¡®
                4: 1, // ç¬¬äºŒé€‰é¡¹æ­£ç¡® (x=3)
                5: 0, // ç¬¬ä¸€é€‰é¡¹æ­£ç¡® (x<2)
                6: 0, // ç¬¬ä¸€é€‰é¡¹æ­£ç¡® (0.5Â² > 0.5Â³)
                7: 0, // ç¬¬ä¸€é€‰é¡¹æ­£ç¡® (x=1)
                8: 2, // ç¬¬ä¸‰é€‰é¡¹æ­£ç¡® (x=3)
                9: 0, // ç¬¬ä¸€é€‰é¡¹æ­£ç¡® (x<2)
                10: 1 // ç¬¬äºŒé€‰é¡¹æ­£ç¡® (2Â³ < 3Â²)
            };
            
            const feedback = document.getElementById(`knowledge-feedback-${questionNum}`);
            const options = option.parentElement.children;
            
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é«˜äº®
            for (let i = 0; i < options.length; i++) {
                options[i].style.backgroundColor = '';
                options[i].style.backgroundImage = '';
            }
            
            // æ£€æŸ¥ç­”æ¡ˆ
            if (Array.from(options).indexOf(option) === correctAnswers[questionNum]) {
                option.style.background = 'linear-gradient(to right, #d5f5e3, #c1f0d0)';
                feedback.textContent = getKnowledgeFeedback(questionNum, true);
                feedback.className = 'quiz-feedback correct';
            } else {
                option.style.background = 'linear-gradient(to right, #fadbd8, #f5cac9)';
                feedback.textContent = getKnowledgeFeedback(questionNum, false);
                feedback.className = 'quiz-feedback incorrect';
            }
            feedback.style.display = 'block';
        }
        
        // è·å–çŸ¥è¯†åº“é—®é¢˜çš„åé¦ˆ
        function getKnowledgeFeedback(questionNum, isCorrect) {
            const feedback = {
                1: {
                    correct: "âœ… æ­£ç¡®ï¼å¢é•¿å› å­æ˜¯åº•æ•°3ï¼Œè¡¨ç¤ºæ¯æ¬¡xå¢åŠ 1ï¼Œyå˜ä¸ºåŸæ¥çš„3å€ã€‚",
                    incorrect: "âŒ æ³¨æ„ï¼šå¢é•¿å› å­æ˜¯æŒ‡æ•°å‡½æ•°çš„åº•æ•°ï¼Œä¸æ˜¯ç³»æ•°ä¹Ÿä¸æ˜¯ä¸¤è€…çš„ä¹˜ç§¯ã€‚"
                },
                2: {
                    correct: "âœ… æ­£ç¡®ï¼åº•æ•°è¶Šå°ï¼Œè¡°å‡è¶Šå¿«ã€‚0.1Ë£æ¯”0.5Ë£å’Œ0.9Ë£è¡°å‡å¾—æ›´å¿«ã€‚",
                    incorrect: "âŒ å†æƒ³æƒ³ï¼šåº•æ•°è¶Šå°ï¼Œå‡½æ•°å€¼ä¸‹é™å¾—è¶Šå¿«ã€‚"
                },
                3: {
                    correct: "âœ… æ­£ç¡®ï¼å½“x=0æ—¶ï¼Œy=aÂ·bâ°=aÂ·1=aï¼Œæ‰€ä»¥yæˆªè·æ˜¯(0,a)ã€‚",
                    incorrect: "âŒ è®°ä½ï¼šä»»ä½•æ•°çš„0æ¬¡æ–¹éƒ½æ˜¯1ï¼Œæ‰€ä»¥å½“x=0æ—¶y=aã€‚"
                },
                4: {
                    correct: "âœ… æ­£ç¡®ï¼å› ä¸º2Â³=8ï¼Œæ‰€ä»¥æ–¹ç¨‹2Ë£=8çš„è§£æ˜¯x=3ã€‚",
                    incorrect: "âŒ æ³¨æ„ï¼š2Â³=8ï¼Œæ‰€ä»¥x=3ã€‚"
                },
                5: {
                    correct: "âœ… æ­£ç¡®ï¼å› ä¸º3Â²=9ï¼Œæ‰€ä»¥3Ë£<9ç­‰ä»·äºx<2ã€‚",
                    incorrect: "âŒ æç¤ºï¼š3Â²=9ï¼Œå½“x<2æ—¶ï¼Œ3Ë£<9ã€‚"
                },
                6: {
                    correct: "âœ… æ­£ç¡®ï¼å› ä¸ºåº•æ•°0.5<1ï¼ŒæŒ‡æ•°è¶Šå¤§å€¼è¶Šå°ï¼Œæ‰€ä»¥0.5Â²=0.25 > 0.125=0.5Â³ã€‚",
                    incorrect: "âŒ æ³¨æ„ï¼šå½“åº•æ•°å°äº1æ—¶ï¼ŒæŒ‡æ•°è¶Šå¤§å‡½æ•°å€¼è¶Šå°ã€‚"
                },
                7: {
                    correct: "âœ… æ­£ç¡®ï¼4Ë£=(2Â²)Ë£=2Â²Ë£ï¼Œæ–¹ç¨‹å˜ä¸º2Â²Ë£=2Ë£âºÂ¹ï¼Œæ‰€ä»¥2x=x+1ï¼Œè§£å¾—x=1ã€‚",
                    incorrect: "âŒ æç¤ºï¼šæŠŠ4Ë£å†™æˆ(2Â²)Ë£=2Â²Ë£ï¼Œç„¶åè§£2Â²Ë£=2Ë£âºÂ¹ã€‚"
                },
                8: {
                    correct: "âœ… æ­£ç¡®ï¼2â°=1, 2Â¹=2, 2Â³=8ï¼Œæ‰€ä»¥x=3æ—¶yå€¼æœ€å¤§ã€‚",
                    incorrect: "âŒ å†æƒ³æƒ³ï¼šæŒ‡æ•°å‡½æ•°y=2Ë£æ˜¯å¢é•¿å‡½æ•°ï¼Œxè¶Šå¤§yè¶Šå¤§ã€‚"
                },
                9: {
                    correct: "âœ… æ­£ç¡®ï¼(1/3)Ë£ > (1/3)Â²ï¼Œå› ä¸ºåº•æ•°1/3<1ï¼Œæ‰€ä»¥x<2ã€‚",
                    incorrect: "âŒ æ³¨æ„ï¼šå½“åº•æ•°å°äº1æ—¶ï¼ŒæŒ‡æ•°å‡½æ•°é€’å‡ï¼Œä¸ç­‰å¼æ–¹å‘ä¼šæ”¹å˜ã€‚"
                },
                10: {
                    correct: "âœ… æ­£ç¡®ï¼2Â³=8ï¼Œ3Â²=9ï¼Œæ‰€ä»¥8<9ã€‚",
                    incorrect: "âŒ è®¡ç®—ä¸€ä¸‹ï¼š2Â³=8ï¼Œ3Â²=9ï¼Œæ‰€ä»¥8<9ã€‚"
                }
            };
            
            return isCorrect ? feedback[questionNum].correct : feedback[questionNum].incorrect;
        }
        
        // åˆå§‹åŒ–æ¸¸æˆ
        window.onload = function() {
            updateGrowthGraph();
            updateDecayGraph();
            updateGameStats();
            
            // ç”Ÿæˆåˆå§‹é—®é¢˜
            generateGrowthQuestion();
            generateDecayQuestion();
        };
    </script>
</body>
</html>