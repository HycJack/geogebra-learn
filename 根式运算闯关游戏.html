<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¹å¼è¿ç®—é—¯å…³æ¸¸æˆ</title>
    <script src="https://polyfill.io/v3/polyfillæç‹.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.97);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .container:hover {
            transform: translateY(-5px);
        }
        
        header {
            background: linear-gradient(90deg, #2c3e50, #4a6491);
            color: white;
            text-align: center;
            padding: 25px;
            position: relative;
            border-bottom: 6px solid #ff8c00;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, #ff8c00, #ffd700, #ff8c00);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
            letter-spacing: 1px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .tabs {
            display: flex;
            background: linear-gradient(90deg, #3498db, #2980b9);
            border-bottom: 4px solid #ff8c00;
        }
        
        .tab {
            flex: 1;
            padding: 18px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.4s ease;
        }
        
        .tab:hover::before {
            left: 100%;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .tab.active {
            background: #ff8c00;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .tab-content {
            display: none;
            padding: 35px;
            min-height: 600px;
        }
        
        #study-tab-content {
            display: block;
        }
        
        .section {
            margin-bottom: 35px;
            padding: 25px;
            background: #f9f9f9;
            border-radius: 12px;
            border-left: 6px solid #3498db;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .section-title {
            color: #2c3e50;
            margin-bottom: 18px;
            padding-bottom: 12px;
            border-bottom: 3px solid #3498db;
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .formula {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            font-size: 1.2rem;
            overflow-x: auto;
            border: 1px solid #eaeaea;
        }
        
        .example {
            background: #e8f4ff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }
        
        .example:hover {
            background: #dbefff;
            transform: scale(1.01);
        }
        
        .game-container {
            text-align: center;
            padding: 25px;
        }
        
        .level-info {
            background: linear-gradient(90deg, #3498db, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .level-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            z-index: 1;
        }
        
        .level-title {
            font-size: 2rem;
            margin-bottom: 12px;
            position: relative;
            z-index: 2;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        .level-info p {
            position: relative;
            z-index: 2;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .problem-container {
            background: white;
            padding: 35px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            margin: 25px 0;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            border: 2px solid #eaeaea;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .problem-container::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.2rem;
            color: #3498db;
            font-weight: bold;
        }
        
        .problem-container:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
        }
        
        #problem {
            font-size: 2.4rem;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.08);
            border: 1px solid #e0e0e0;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 25px 0;
        }
        
        .input-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .input-group {
            display: flex;
            gap: 15px;
            width: 100%;
        }
        
        input[type="text"] {
            padding: 15px 20px;
            font-size: 1.3rem;
            border: 2px solid #3498db;
            border-radius: 10px;
            flex: 1;
            text-align: center;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.2);
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus {
            border-color: #2980b9;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            outline: none;
        }
        
        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: all 0.6s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            background: linear-gradient(90deg, #2980b9, #1a5276);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
        }
        
        #next-level {
            background: linear-gradient(90deg, #27ae60, #219653);
        }
        
        #next-level:hover {
            background: linear-gradient(90deg, #219653, #1e8449);
        }
        
        .feedback {
            min-height: 60px;
            font-size: 1.3rem;
            margin: 25px 0;
            padding: 18px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.4s ease;
        }
        
        .success {
            background: #d5f5e3;
            color: #27ae60;
            border: 2px solid #27ae60;
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.2);
        }
        
        .error {
            background: #fadbd8;
            color: #e74c3c;
            border: 2px solid #e74c3c;
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.2);
        }
        
        .progress-container {
            background: #ecf0f1;
            height: 30px;
            border-radius: 15px;
            margin: 25px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, æç‹0, 0.2);
            border: 1px solid #ddd;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.6s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            100% { left: 100%; }
        }
        
        .stars {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
        }
        
        .star {
            font-size: 3rem;
            color: #ddd;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.4s ease;
        }
        
        .star.filled {
            color: #f1c40f;
            text-shadow: 0 0 15px rgba(241, 196, 15, 0.8);
            transform: scale(1.1);
        }
        
        .animation-container {
            height: 180px;
            position: relative;
            margin: 25px 0;
        }
        
        .math-symbol {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0;
            animation: symbolFloat 8s linear infinite;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes symbolFloat {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-200px) rotate(360deg);
                opacity: 0;
            }
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: #2c3e50;
            color: #ecf0f1;
            font-size: 1rem;
        }
        
        .game-complete {
            background: #e8f6f3;
            padding: 40px;
            border-radius: 15px;
            border: 4px solid #27ae60;
            text-align: center;
            margin-top: 30px;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        .celebration {
            font-size: 5rem;
            margin-bottom: 25px;
            color: #f1c40f;
            animation: celebrate 2s infinite alternate;
        }
        
        @keyframes celebrate {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }
        
        .hint-box {
            background: #fff8e1;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }
        
        .solution-btn {
            padding: 10px 20px;
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 15px 0;
            font-size: 1.1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .solution-btn:hover {
            background: linear-gradient(90deg, #2980b9, #1a5276);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        
        .solution {
            display: none;
            padding: 20px;
            margin-top: 15px;
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #eee;
        }
        
        .answer-box {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 5px solid #27ae60;
            display: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .solution-process {
            background: #fff8e1;
            padding: 20px;
            margin-top: 15px;
            border-radius: 8px;
            display: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }
        
        .sqrt-btn {
            padding: 15px 25px;
            font-size: 1.4rem;
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .sqrt-btn:hover {
            background: linear-gradient(90deg, #2980b9, #1a5276);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
        }
        
        .sqrt-hint {
            font-size: 1.1rem;
            color: #666;
            margin-top: 10px;
            padding: 12px;
            background: #f0f7ff;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .symbol-btn-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .symbol-btn {
            padding: 12px 18px;
            font-size: 1.2rem;
            background: linear-gradient(90deg, #9b59b6, #8e44ad);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }
        
        .symbol-btn:hover {
            background: linear-gradient(90deg, #8e44ad, #7d3c98);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .problem-container {
                padding: 20px;
            }
            
            #problem {
                font-size: 1.8rem;
                padding: 15px;
            }
            
            input[type="text"] {
                width: 100%;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .symbol-btn-group {
                flex-wrap: wrap;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æ ¹å¼è¿ç®—é—¯å…³æ¸¸æˆ</h1>
            <div class="subtitle">æŒæ¡æ ¹å¼è¿ç®—ï¼Œæˆä¸ºæ•°å­¦é«˜æ‰‹ï¼</div>
        </header>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('study')">å­¦ä¹ ææ–™</div>
            <div class="tab" onclick="switchTab('game')">é—¯å…³æ¸¸æˆ</div>
        </div>
        
        <div id="study-tab-content" class="tab-content">
            <div class="section">
                <h2 class="section-title">ä»€ä¹ˆæ˜¯æ ¹å¼ï¼Ÿ</h2>
                <p>æ ¹å¼æ˜¯æ•°å­¦è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•°çš„æ–¹æ ¹ï¼Œé€šå¸¸è¡¨ç¤ºä¸º \(\sqrt[n]{a}\)ï¼Œå…¶ä¸­ï¼š</p>
                <div class="formula">
                    <p>\(\sqrt[n]{a} = a^{\frac{1}{n}}\)</p>
                </div>
                <p>å…¶ä¸­ \(n\) ç§°ä¸ºæ ¹æŒ‡æ•°ï¼Œ\(a\) ç§°ä¸ºè¢«å¼€æ–¹æ•°ã€‚å½“ \(n=2\) æ—¶ï¼Œé€šå¸¸ç®€å†™ä¸º \(\sqrt{a}\)ã€‚</p>
                <div class="example">
                    <p><strong>ç¤ºä¾‹1ï¼š</strong> \(\sqrt{9} = 3\)ï¼Œå› ä¸º \(3^2 = 9\)</p>
                    <p><strong>ç¤ºä¾‹2ï¼š</strong> \(\sqrt[3]{8} = 2\)ï¼Œå› ä¸º \(2^3 = 8\)</p>
                    <p><strong>ç¤ºä¾‹3ï¼š</strong> \(\sqrt[4]{16} = 2\)ï¼Œå› ä¸º \(2^4 = 16\)</p>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">æ ¹å¼çš„åŸºæœ¬æ€§è´¨</h2>
                <div class="formula">
                    <p>1. ä¹˜ç§¯çš„æ–¹æ ¹ï¼š\(\sqrt[n]{ab} = \sqrt[n]{a} \cdot \sqrt[n]{b}\)</p>
                    <p>ç¤ºä¾‹ï¼š\(\sqrt{4 \times 9} = \sqrt{36} = 6\)ï¼Œæˆ–è€… \(\sqrt{4} \times \sqrt{9} = 2 \times 3 = 6\)</p>
                </div>
                <div class="formula">
                    <p>2. å•†çš„æ–¹æ ¹ï¼š\(\sqrt[n]{\frac{a}{æç‹b}} = \frac{\sqrt[n]{a}}{\sqrt[n]{b}}\) (\(b \neq 0\))</p>
                    <p>ç¤ºä¾‹ï¼š\(\sqrt{\frac{25}{4}} = \frac{\sqrt{25}}{\sqrt{4}} = \frac{5}{2}\)</p>
                </div>
                <div class="formula">
                    <p>3. å¹‚çš„æ–¹æ ¹ï¼š\(\sqrt[n]{a^m} = a^{\frac{m}{n}}\)</p>
                    <p>ç¤ºä¾‹ï¼š\(\sqrt[3]{8^2} = 8^{\frac{2}{3}} = (2^3)^{\frac{2}{3}} = 2^2 = 4\)</p>
                </div>
                <div class="formula">
                    <p>4. æ ¹å¼çš„åŒ–ç®€ï¼šå½“ \(n\) ä¸ºå¶æ•°æ—¶ï¼Œ\(\sqrt[n]{a^n} = |a|\)ï¼›å½“ \(n\) ä¸ºå¥‡æ•°æ—¶ï¼Œ\(\sqrt[n]{a^n} = a\)</p>
                    <p>ç¤ºä¾‹ï¼š\(\sqrt{(-3)^2} = |-3| = 3\)ï¼Œ\(\sqrt[3]{(-2)^3} = -2\)</p>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">æ ¹å¼çš„è¿ç®—è§„åˆ™</h2>
                <div class="formula">
                    <p>1. åŠ å‡æ³•ï¼šåªæœ‰åŒç±»æ ¹å¼ï¼ˆæ ¹æŒ‡æ•°ç›¸åŒä¸”è¢«å¼€æ–¹æ•°ç›¸åŒï¼‰æ‰èƒ½ç›¸åŠ å‡</p>
                    <p>ç¤ºä¾‹ï¼š\(2\sqrt{3} + 5\sqrt{3} = 7\sqrt{3}\)ï¼Œè€Œ \(\sqrt{2} + \sqrt{3}\) ä¸èƒ½ç›´æ¥ç›¸åŠ </p>
                </div>
                <div class="formula">
                    <p>2. ä¹˜æ³•ï¼š\(\sqrt{a} \cdot \sqrt{b} = \sqrt{ab}\)</p>
                    <p>ç¤ºä¾‹ï¼š\(\sqrt{2} \cdot \sqrt{8} = \sqrt{16} = 4\)</p>
                </div>
                <div class="formula">
                    <p>3. é™¤æ³•ï¼š\(\frac{\sqrt{a}}{\sqrt{b}} = \sqrt{\frac{a}{b}}\)</p>
                    <p>ç¤ºä¾‹ï¼š\(\frac{\sqrt{18}}{\sqrt{2}} = \sqrt{9} = 3\)</p>
                </div>
                <div class="formula">
                    <p>4. åˆ†æ¯æœ‰ç†åŒ–ï¼šå°†åˆ†æ¯ä¸­çš„æ ¹å·æ¶ˆé™¤</p>
                    <p>ç¤ºä¾‹ï¼š\(\frac{1}{\sqrt{2}} = \frac{1}{\sqrt{2}} \cdot \frac{\sqrt{2}}{\sqrt{2}} = \frac{\sqrt{2}}{2}\)</p>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">ä¾‹é¢˜è§£æ</h2>
                <div class="example">
                    <p><strong>ä¾‹é¢˜1ï¼š</strong> è®¡ç®— \(\sqrt{12} + \sqrt{27}\)</p>
                    <button class="solution-btn" onclick="toggleSolution(this)">æ˜¾ç¤ºè§£ç­”</button>
                    <div class="solution">
                        <p><strong>è§£ï¼š</strong> å…ˆåŒ–ç®€æ ¹å¼ï¼š</p>
                        <p>\(\sqrt{12} = \sqrt{4 \times 3} = 2\sqrt{3}\)</p>
                        <p>\(\sqrt{27} = \sqrt{9 \times 3} = 3\sqrt{3}\)</p>
                        <p>ç„¶åç›¸åŠ ï¼š\(2\sqrt{3} + 3\sqrt{3} = 5\sqrt{3}\)</p>
                        <p>æœ€ç»ˆç­”æ¡ˆä¸ºï¼š\(5\sqrt{3}\)</p>
                    </div>
                </div>
                
                <div class="example">
                    <p><strong>ä¾‹é¢˜2ï¼š</strong> è®¡ç®— \((\sqrt{5} + \sqrt{3})(\sqrt{5} - \sqrt{3})\)</p>
                    <button class="solution-btn" onclick="toggleSolution(this)">æ˜¾ç¤ºè§£ç­”</button>
                    <div class="solution">
                        <p><strong>è§£ï¼š</strong> ä½¿ç”¨å¹³æ–¹å·®å…¬å¼ï¼š\((a+b)(a-b) = a^2 - b^2\)</p>
                        <p>\(a = \sqrt{5}, b = \sqrt{3}\)</p>
                        <p>\((\sqrt{5})^2 - (\sqrt{3})^2 = 5 - 3 = 2\)</p>
                        <p>æœ€ç»ˆç­”æ¡ˆä¸ºï¼š\(2\)</p>
                    </div>
                </div>
                
                <div class="example">
                    <p><strong>ä¾‹é¢˜3ï¼š</strong> åŒ–ç®€ \(\frac{3}{\sqrt{6}}\)</p>
                    <button class="solution-btn" onclick="toggleSolution(this)">æ˜¾ç¤ºè§£ç­”</button>
                    <div class="solution">
                        <p><strong>è§£ï¼š</strong> åˆ†æ¯æœ‰ç†åŒ–ï¼šåˆ†å­åˆ†æ¯åŒä¹˜\(\sqrt{6}\)</p>
                        <p>\(\frac{3}{\sqrt{6}} = \frac{3}{\sqrt{6}} \cdot \frac{\sqrt{6}}{\sqrt{6}} = \frac{3\sqrt{6}}{6} = \frac{\sqrt{6}}{2}\)</p>
                        <p>æœ€ç»ˆç­”æ¡ˆä¸ºï¼š\(\frac{\sqrt{6}}{2}\)</p>
                    </div>
                </div>
            </div>
            
            <div class="animation-container" id="animation-study">
                <!-- Math symbols will be animated here -->
            </div>
        </div>
        
        <div id="game-tab-content" class="tab-content">
            <div class="game-container">
                <div class="level-info">
                    <div class="level-title">ç¬¬ <span id="level-number">1</span> å…³</div>
                    <p>å®Œæˆæ‰€æœ‰å…³å¡æˆä¸ºæ ¹å¼è¿ç®—å¤§å¸ˆï¼</p>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                
                <div class="stars">
                    <div class="star">â˜…</div>
                    <div class="star">â˜…</div>
                    <div class="star">â˜…</div>
                    <div class="star">â˜…</div>
                    <div class="star">â˜…</div>
                </div>
                
                <div class="problem-container">
                    <div id="problem">\(\sqrt{9} + \sqrt{16}\)</div>
                </div>
                
                <button class="solution-btn" id="show-answer-btn" onclick="toggleAnswer()">æ˜¾ç¤ºç­”æ¡ˆ</button>
                <div class="answer-box" id="answer-box">
                    <p>æ­£ç¡®ç­”æ¡ˆï¼š<span id="correct-answer"></span></p>
                    <div class="solution-process" id="solution-process">
                        <p>è§£é¢˜è¿‡ç¨‹ï¼š<span id="detailed-solution"></span></p>
                    </div>
                </div>
                
                <div class="hint-box">
                    <p id="hint-text">æç¤ºï¼šç‚¹å‡»"æ˜¾ç¤ºç­”æ¡ˆ"æŒ‰é’®æŸ¥çœ‹è¯¦ç»†è§£ç­”</p>
                </div>
                
                <div class="animation-container" id="animation-game">
                    <!-- Math symbols will be animated here -->
                </div>
                
                <div class="controls">
                    <div class="symbol-btn-group">
                        <button class="symbol-btn" onclick="insertSymbol('âˆš')">âˆš</button>
                        <button class="symbol-btn" onclick="insertSymbol('Â²')">xÂ²</button>
                        <button class="symbol-btn" onclick="insertSymbol('Â³')">xÂ³</button>
                        <button class="symbol-btn" onclick="insertSymbol('+')">+</button>
                        <button class="symbol-btn" onclick="insertSymbol('-')">-</button>
                        <button class="symbol-btn" onclick="insertSymbol('Ã—')">Ã—</button>
                        <button class="symbol-btn" onclick="insertSymbol('Ã·')">Ã·</button>
                    </div>
                    
                    <div class="input-container">
                        <div class="input-group">
                            <input type="text" id="answer" placeholder="è¾“å…¥ç­”æ¡ˆ..." autocomplete="off">
                            <button class="sqrt-btn" onclick="insertSymbol('âˆš')">âˆš</button>
                        </div>
                        <div class="sqrt-hint">
                            <strong>æ ¹å·è¾“å…¥æç¤ºï¼š</strong> 
                            <p>1. ä½¿ç”¨"âˆš"ç¬¦å·è¡¨ç¤ºæ ¹å·ï¼ˆç‚¹å‡»âˆšæŒ‰é’®æ’å…¥ï¼‰</p>
                            <p>2. å¯ä»¥è¾“å…¥ç±»ä¼¼"5âˆš3"è¡¨ç¤º \(5\sqrt{3}\)</p>
                            <p>3. ä¹Ÿå¯ä»¥ä½¿ç”¨"sqrt"è¡¨ç¤ºæ ¹å·ï¼Œå¦‚"5sqrt3"</p>
                        </div>
                    </div>
                    <button id="submit">æäº¤ç­”æ¡ˆ</button>
                    <button id="next-level" style="display: none;">ä¸‹ä¸€å…³</button>
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="game-complete" id="game-complete">
                    <div class="celebration">ğŸ‰ ğŸ‰ ğŸ‰</div>
                    <h2>æ­å–œä½ å®Œæˆæ‰€æœ‰å…³å¡ï¼</h2>
                    <p>ä½ å·²ç»æŒæ¡äº†æ ¹å¼è¿ç®—çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œæˆä¸ºæ ¹å¼è¿ç®—å¤§å¸ˆï¼</p>
                    <button onclick="resetGame()">å†ç©ä¸€æ¬¡</button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2023 æ ¹å¼è¿ç®—å­¦ä¹ å¹³å° | ä¸ºçƒ­çˆ±æ•°å­¦çš„å­¦ç”Ÿè®¾è®¡</p>
        </footer>
    </div>

    <script>
        // æ¸¸æˆå…³å¡æ•°æ® - æ·»åŠ è¯¦ç»†è§£é¢˜è¿‡ç¨‹
        const levels = [
            {
                problem: "\\sqrt{9} + \\sqrt{16}",
                answer: "7",
                hint: "æç¤ºï¼šè®¡ç®—å¹³æ–¹æ ¹ç„¶åç›¸åŠ ",
                solution: "è®¡ç®—å¹³æ–¹æ ¹ï¼š\\( \\sqrt{9} = 3 \\)ï¼Œ\\( \\sqrt{16} = 4 \\)<br>ç„¶åç›¸åŠ ï¼š\\( 3 + 4 = 7 \\)",
                altAnswers: ["7"]
            },
            {
                problem: "\\sqrt{25} \\times \\sqrt{4}",
                answer: "10",
                hint: "æç¤ºï¼šè®¡ç®—å¹³æ–¹æ ¹ç„¶åç›¸ä¹˜",
                solution: "è®¡ç®—å¹³æ–¹æç‹æ ¹ï¼š\\( \\sqrt{25} = 5 \\)ï¼Œ\\( \\sqrt{4} = 2 \\)<br>ç„¶åç›¸ä¹˜ï¼š\\( 5 \\times 2 = 10 \\)",
                altAnswers: ["10"]
            },
            {
                problem: "\\sqrt{18} - \\sqrt{8}",
                answer: "\\sqrt{2}",
                hint: "æç¤ºï¼šå…ˆåŒ–ç®€æ ¹å¼",
                solution: "åŒ–ç®€ï¼š\\( \\sqrt{18} = \\sqrt{9 \\times 2} = 3\\sqrt{2} \\)<br>\\( \\sqrt{8} = \\sqrt{4 \\times 2} = 2\\sqrt{2} \\)<br>ç„¶åç›¸å‡ï¼š\\( 3\\sqrt{2} - 2\\sqrt{2} = \\sqrt{2} \\)",
                altAnswers: ["âˆš2", "sqrt2", "æ ¹å·2"]
            },
            {
                problem: "\\sqrt{12} + \\sqrt{27}",
                answer: "5\\sqrt{3}",
                hint: "æç¤ºï¼šå…ˆåŒ–ç®€æ ¹å¼",
                solution: "åŒ–ç®€ï¼š\\( \\sqrt{12} = \\sqrt{4 \\times 3} = 2\\sqrt{3} \\)<br>\\( \\sqrt{27} = \\sqrt{9 \\times 3} = 3\\sqrt{3} \\)<br>ç„¶åç›¸åŠ ï¼š\\( 2\\sqrt{3} + 3\\sqrt{3} = 5\\sqrt{3} \\)",
                altAnswers: ["5âˆš3", "5sqrt3", "5æ ¹å·3"]
            },
            {
                problem: "\\frac{\\sqrt{50}}{\\sqrt{2}}",
                answer: "5",
                hint: "æç¤ºï¼šåŒ–ç®€æ ¹å¼",
                solution: "è®¡ç®—ï¼š\\( \\frac{\\sqrt{50}}{\\sqrt{2}} = \\sqrt{\\frac{50}{2}} = \\sqrt{25} = 5 \\)",
                altAnswers: ["5"]
            },
            {
                problem: "(\\sqrt{5} + \\sqrt{3})(\\sqrt{5} - \\sqrt{3})",
                answer: "2",
                hint: "æç¤ºï¼šä½¿ç”¨å¹³æ–¹å·®å…¬å¼",
                solution: "ä½¿ç”¨å¹³æ–¹å·®å…¬å¼ï¼š\\( (a+b)(a-b) = a^2 - b^2 \\)<br>\\( a = \\sqrt{5}, b = \\sqrt{3} \\)<br>\\( (\\sqrt{5})^2 - (\\sqrt{3})^2 = 5 - 3 = 2 \\)",
                altAnswers: ["2"]
            },
            {
                problem: "\\sqrt{8} \\times \\sqrt{2}",
                answer: "4",
                hint: "æç¤ºï¼šæ ¹å¼ä¹˜æ³•è§„åˆ™",
                solution: "è®¡ç®—ï¼š\\( \\sqrt{8} \\times \\sqrt{2} = \\sqrt{8 \\times 2} = \\sqrt{16} = 4 \\)",
                altAnswers: ["4"]
            },
            {
                problem: "\\frac{4}{\\sqrt{2}}",
                answer: "2\\sqrt{2}",
                hint: "æç¤ºï¼šåˆ†æ¯æœ‰ç†åŒ–",
                solution: "åˆ†æ¯æœ‰ç†åŒ–ï¼š<br>\\( \\frac{4}{\\sqrt{2}} \\times \\frac{\\sqrt{2}}{\\sqrt{2}} = \\frac{4\\sqrt{2}}{2} = 2\\sqrt{2} \\)",
                altAnswers: ["2âˆš2", "2sqrt2", "2æ ¹å·2"]
            },
            {
                problem: "\\sqrt{20} + \\sqrt{45} - \\sqrt{5}",
                answer: "4\\sqrt{5}",
                hint: "æç¤ºï¼šå…ˆåŒ–ç®€æ ¹å¼",
                solution: "åŒ–ç®€ï¼š\\( \\sqrt{20} = \\sqrt{4 \\times 5} = 2\\sqrt{5} \\)<br>\\( \\sqrt{45} = \\sqrt{9 \\times 5} = 3\\sqrt{5} \\)<br>ç„¶åè®¡ç®—ï¼š\\( 2\\sqrt{5} + 3\\sqrt{5} - \\sqrt{5} = 4\\sqrtæç‹{5} \\)",
                altAnswers: ["4âˆš5", "4sqrt5", "4æ ¹å·5"]
            },
            {
                problem: "\\frac{\\sqrt{3} + \\sqrt{2}}{\\sqrt{3} - \\sqrt{2}}",
                answer: "5+2\\sqrt{6}",
                hint: "æç¤ºï¼šåˆ†æ¯æœ‰ç†åŒ–",
                solution: "åˆ†æ¯æœ‰ç†åŒ–ï¼šåˆ†å­åˆ†æ¯åŒä¹˜\\( \\sqrt{3} + \\sqrt{2} \\)<br>\\( \\frac{(\\sqrt{3} + \\sqrt{2})^2}{(\\sqrt{3})^2 - (\\sqrt{2})^2} = \\frac{3 + 2\\sqrt{6} + 2}{3 - 2} = \\frac{5 + 2\\sqrt{6}}{1} = 5+2\\sqrt{6} \\)",
                altAnswers: ["5+2âˆš6", "5+2sqrt6", "5+2æ ¹å·6"]
            }
        ];
        
        let currentLevel = 0;
        let score = 0;
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName + '-tab-content').style.display = 'block';
            document.querySelector(`.tab:nth-child(${tabName === 'study' ? 1 : 2})`).classList.add('active');
            
            // æ›´æ–°MathJaxæ¸²æŸ“
            MathJax.typeset();
            
            // å¼€å§‹åŠ¨ç”»
            if (tabName === 'study') {
                startStudyAnimation();
            } else if (tabName === 'game') {
                startGameAnimation();
                updateProblem();
            }
        }
        
        // æ›´æ–°é—®é¢˜æ˜¾ç¤º
        function updateProblem() {
            document.getElementById('level-number').textContent = currentLevel + 1;
            
            // ä½¿ç”¨MathJaxæ¸²æŸ“å…¬å¼
            const problemElement = document.getElementById('problem');
            problemElement.innerHTML = `\\(${levels[currentLevel].problem}\\)`;
            
            // è®¾ç½®æ­£ç¡®ç­”æ¡ˆ
            document.getElementById('correct-answer').textContent = levels[currentLevel].answer;
            // è®¾ç½®è¯¦ç»†è§£é¢˜è¿‡ç¨‹
            document.getElementById('detailed-solution').innerHTML = levels[currentLevel].solution;
            // è®¾ç½®æç¤º
            document.getElementById('hint-text').textContent = levels[currentLevel].hint;
            
            document.getElementById('answer').value = '';
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('submit').style.display = 'inline-block';
            document.getElementById('next-level').style.display = 'none';
            
            // é‡ç½®ç­”æ¡ˆæ˜¾ç¤ºåŒºåŸŸ
            document.getElementById('answer-box').style.display = 'none';
            document.getElementById('solution-process').style.display = 'none';
            document.getElementById('show-answer-btn').textContent = 'æ˜¾ç¤ºç­”æ¡ˆ';
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = (currentLevel / (levels.length - 1)) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            
            // æ›´æ–°æ˜Ÿæ˜Ÿ
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < Math.floor(score / 2)) {
                    star.classList.add('filled');
                } else {
                    star.classList.remove('filled');
                }
            });
            
            // é‡æ–°æ¸²æŸ“MathJax
            MathJax.typeset();
        }
        
        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            const userAnswer = document.getElementById('answer').value.trim();
            const feedback = document.getElementById('feedback');
            const level = levels[currentLevel];
            
            // æ£€æŸ¥æ˜¯å¦åŒ¹é…æ­£ç¡®ç­”æ¡ˆæˆ–å¤‡é€‰ç­”æ¡ˆ
            const normalizedUserAnswer = userAnswer.replace(/\s+/g, '').toLowerCase();
            
            // æ£€æŸ¥æ­£ç¡®ç­”æ¡ˆ
            if (normalizedUserAnswer === level.answer.replace(/\s+/g, '').toLowerCase()) {
                handleCorrectAnswer();
                return;
            }
            
            // æ£€æŸ¥å¤‡é€‰ç­”æ¡ˆ
            for (const altAnswer of level.altAnswers) {
                const normalizedAltAnswer = altAnswer.replace(/\s+/g, '').toLowerCase();
                if (normalizedUserAnswer === normalizedAltAnswer) {
                    handleCorrectAnswer();
                    return;
                }
            }
            
            // å¦‚æœéƒ½ä¸åŒ¹é…ï¼Œæ˜¾ç¤ºé”™è¯¯
            feedback.textContent = 'âœ— ä¸æ­£ç¡®ï¼Œè¯·å†è¯•ä¸€æ¬¡ï¼æç¤ºï¼š' + level.hint;
            feedback.className = 'feedback error';
        }
        
        function handleCorrectAnswer() {
            const feedback = document.getElementById('feedback');
            feedback.textContent = 'âœ“ æ­£ç¡®ï¼' + levels[currentLevel].hint;
            feedback.className = 'feedback success';
            score++;
            
            // æ˜¾ç¤ºä¸‹ä¸€å…³æŒ‰é’®
            document.getElementById('submit').style.display = 'none';
            document.getElementById('next-level').style.display = 'inline-block';
            
            // åº†ç¥åŠ¨ç”»
            celebrate();
        }
        
        // æ’å…¥ç¬¦å·
        function insertSymbol(symbol) {
            const answerInput = document.getElementById('answer');
            const currentValue = answerInput.value;
            const cursorPos = answerInput.selectionStart;
            
            // æ’å…¥ç¬¦å·
            answerInput.value = currentValue.substring(0, cursorPos) + symbol + currentValue.substring(cursorPos);
            
            // ç§»åŠ¨å…‰æ ‡åˆ°æ–°ä½ç½®
            answerInput.selectionStart = cursorPos + symbol.length;
            answerInput.selectionEnd = cursorPos + symbol.length;
            
            // èšç„¦è¾“å…¥æ¡†
            answerInput.focus();
        }
        
        // åˆ‡æ¢è§£ç­”æ˜¾ç¤º
        function toggleSolution(btn) {
            const solution = btn.nextElementSibling;
            if (solution.style.display === 'none' || !solution.style.display) {
                solution.style.display = 'block';
                btn.textContent = 'éšè—è§£ç­”';
                // é‡æ–°æ¸²æŸ“MathJax
                MathJax.typeset([solution]);
            } else {
                solution.style.display = 'none';
                btn.textContent = 'æ˜¾ç¤ºè§£ç­”';
            }
        }
        
        // åˆ‡æ¢ç­”æ¡ˆæ˜¾ç¤º
        function toggleAnswer() {
            const answerBox = document.getElementById('answer-box');
            const solutionProcess = document.getElementById('solution-process');
            const btn = document.getElementById('show-answer-btn');
            
            if (answerBox.style.display === 'none' || !answerBox.style.display) {
                answerBox.style.display = 'block';
                solutionProcess.style.display = 'block';
                btn.textContent = 'éšè—ç­”æ¡ˆ';
            } else {
                answerBox.style.display = 'none';
                solutionProcess.style.display = 'none';
                btn.textContent = 'æ˜¾ç¤ºç­”æ¡ˆ';
            }
            
            // é‡æ–°æ¸²æŸ“MathJaxä»¥ç¡®ä¿æ­£ç¡®æ˜¾ç¤ºæ•°å­¦å…¬å¼
            MathJax.typeset();
        }
        
        // ä¸‹ä¸€å…³
        function nextLevel() {
            currentLevel++;
            
            if (currentLevel < levels.length) {
                updateProblem();
            } else {
                // æ¸¸æˆå®Œæˆ
                document.querySelector('.game-container').style.display = 'none';
                document.getElementById('game-complete').style.display = 'block';
            }
        }
        
        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            currentLevel = 0;
            score = 0;
            document.querySelector('.game-container').style.display = 'block';
            document.getElementById('game-complete').style.display = 'none';
            updateProblem();
        }
        
        // åº†ç¥åŠ¨ç”»
        function celebrate() {
            const container = document.getElementById('animation-game');
            const symbols = ['âˆš', '+', '-', 'Ã—', 'Ã·', '=', 'Ï€', 'âˆ'];
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const symbol = document.createElement('div');
                    symbol.className = 'math-symbol';
                    symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    symbol.style.left = Math.random() * 100 + '%';
                    symbol.style.fontSize = (Math.random() * 2 + 2) + 'rem';
                    symbol.style.color = `hsl(${Math.random() * 360}, 80%, 60%)`;
                    symbol.style.animationDuration = (Math.random() * 5 + 5) + 's';
                    
                    container.appendChild(symbol);
                    
                    // ç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (symbol.parentNode) {
                            symbol.parentNode.removeChild(symbol);
                        }
                    }, 8000);
                }, i * 200);
            }
        }
        
        // å­¦ä¹ é¡µåŠ¨ç”»
        function startStudyAnimation() {
            const container = document.getElementById('animation-study');
            const symbols = ['âˆš', 'âˆ›', 'âˆœ', 'âˆ‘', 'âˆ«', 'âˆ†', 'âˆ'];
            
            setInterval(() => {
                const symbol = document.createElement('div');
                symbol.className = 'math-symbol';
                symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                symbol.style.left = Math.random() * 100 + '%';
                symbol.style.fontSize = (Math.random() * 2 + 2) + 'rem';
                symbol.style.color = `hsl(${Math.random() * 360}, 70%, 50%)`;
                symbol.style.animationDuration = (Math.random() * 5 + 8) + 's';
                
                container.appendChild(symbol);
                
                // ç§»é™¤å…ƒç´ 
                setTimeout(() => {
                    if (symbol.parentNode) {
                        symbol.parentNode.removeChild(symbol);
                    }
                }, 8000);
            }, 800);
        }
        
        // æ¸¸æˆé¡µåŠ¨ç”»
        function startGameAnimation() {
            const container = document.getElementById('animation-game');
            const symbols = ['âˆš', '+', '-', 'Ã—', 'Ã·', '='];
            
            setInterval(() => {
                const symbol = document.createElement('div');
                symbol.className = 'math-symbol';
                symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                symbol.style.left = Math.random() * 100 + '%';
                symbol.style.fontSize = (Math.random() * 1.5 + 1.5) + 'rem';
                symbol.style.color = `hsl(${Math.random() * 360}, 70%, 50%)`;
                symbol.style.animationDuration = (Math.random() * 5 + 8) + 's';
                
                container.appendChild(symbol);
                
                // ç§»é™¤å…ƒç´ 
                setTimeout(() => {
                    if (symbol.parentNode) {
                        symbol.parentNode.removeChild(symbol);
                    }
                }, 8000);
            }, 1200);
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('submit').addEventListener('click', checkAnswer);
            document.getElementById('next-level').addEventListener('click', nextLevel);
            
            document.getElementById('answer').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
            
            // åˆå§‹åŠ¨ç”»
            startStudyAnimation();
            
            // ç¡®ä¿MathJaxæ­£ç¡®æ¸²æŸ“
            setTimeout(() => {
                MathJax.typeset();
            }, 500);
        });
    </script>
</body>
</html>